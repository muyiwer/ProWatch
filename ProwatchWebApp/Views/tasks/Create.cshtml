@model ProwatchWebApp.Models.task

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_ProWatchLayout.cshtml";
}

<div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2 main">
    <div class="row">
        <ol class="breadcrumb">
            <li>
                <a href="index.html">
                    <em class="fa fa-home"></em>
                </a>
            </li>
            <li class="active">Create Task</li>
        </ol>
    </div><!--/.row-->

    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">New Task</h1>
        </div>
    </div><!--/.row-->

    @using (Html.BeginForm("Create", "tasks", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        <div class="form-group col-md-5">
            <label>Task </label>
            <input class="form-control" type="text" name="taskName">
        </div>

        <div class="form-group col-md-5">
            <label>Assign To</label>
            <input class="form-control" type="text" name="assignTo" id="email">
        </div>

        <div class="form-group col-md-5">
            <label>Deadline</label>
            <input class="form-control" type="date" name="deadlineDate">
        </div>

        <div class="form-group col-md-5">
            <label>Assign By</label>
            <input class="form-control" type="text" name="createdBy" value="@ViewBag.Name">
        </div>


        <div class="form-group col-md-5">
            <label>Supervise By</label>
            <input class="form-control" type="text" name="observedBy">
        </div>

        <div class="form-group col-md-5">
            <label>Project Name </label>
            <input class="form-control" type="text" name="projectName">
        </div>
        <div class="form-group col-md-8">
            <button id="ken" type="submit" class="btn btn-primary" style="float:left">Save</button>
        </div>
    }
</div>	<!--/.main-->
<script type="text/javascript">
 $(document).ready(function() {
    $("#email").autocomplete({
        source: function(request, response) {
            $.ajax({
                url: "/tasks/AutoComplete",
                method: "post",
                dataType: "json",
                contentType: 'application/json',
                data: Json.springify({term: request.term}),
                success: function(data) {                    
                        response(data.email)                     
                },
                error: function() {
                    alert('No records!');
                }
            })
        },
       
    });
}) </script>

